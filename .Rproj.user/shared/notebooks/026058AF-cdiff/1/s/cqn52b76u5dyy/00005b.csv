"0","relative <- plot_taxa(phyla, only_data = T)"
"2","Warning in `[.data.table`(counts, , `:=`(id, as.numeric(sample))) :"
"2","
 "
"2"," Invalid .internal.selfref detected and fixed by taking a (shallow) copy of the data.table so that := can add this new column by reference. At an earlier point, this data.table has been copied by R (or was created manually using structure() or similar). Avoid names<- and attr<- which in R currently (and oddly) may copy the whole data.table. Use set* syntax instead to avoid copying: ?set, ?setnames and ?setattr. If this message doesn't help, please report your use case to the data.table issue tracker so the root cause can be fixed or this message improved.
"
"0","relative <- as.data.table(sdata)[relative, on = c(Run = ""sample"")]"
"0","relative <- relative[, .(relative = mean(reads)), by = c(""animations_gradient"", ""animations_subject"", ""taxa"", ""description"")]"
"0","names(relative) <- c(""days_since_fmt"", ""subject"", ""phylum"", ""description"", ""relative"")"
"0","total_ord <- relative[, sum(relative, na.rm = TRUE), by = ""phylum""][order(-V1), phylum]"
"0",""
"0","dont_show <- c(""skin"", ""Patient"", ""Donor"")"
"0","ggplot(relative, aes(x=factor(days_since_fmt), y=relative, fill=factor(phylum, levels=rev(total_ord)))) + "
"0","  geom_bar(stat=""identity"", position=""fill"") + "
"0","  facet_wrap(~ subject, scales=""free_x"") + "
"0","  scale_fill_brewer(palette = ""Paired"", direction = -1) +"
"0","  scale_y_continuous(labels = scales::percent) +"
"0","  labs(x = ""time since FMT [days]"", y="""", fill=""phylum"")"
